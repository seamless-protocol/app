<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vite + React + TS</title>
  </head>
  <body>
    <div id="root"></div>
    <!-- Critical: Add module loading detection for CI debugging -->
    <script>
      console.log('ðŸ“„ HTML loaded, checking module support...')
      console.log('Module support:', 'noModule' in HTMLScriptElement.prototype)
      console.log('User agent:', navigator.userAgent)
      
      // Add error handler before module loads
      window.addEventListener('error', (event) => {
        console.error('ðŸ”¥ Script error before module load:', {
          message: event.message,
          filename: event.filename,
          lineno: event.lineno,
          colno: event.colno,
          error: event.error
        })
      })
      
      // Check if main.tsx loads within 10 seconds (CI debugging)
      let moduleLoaded = false
      const startTime = Date.now()
      
      const checkInterval = setInterval(() => {
        if (window.React || document.querySelector('#root').children.length > 0) {
          moduleLoaded = true
          console.log('âœ… Module loaded successfully after', Date.now() - startTime, 'ms')
          clearInterval(checkInterval)
        }
      }, 100)
      
      setTimeout(() => {
        if (!moduleLoaded) {
          console.error('ðŸ’¥ CRITICAL: main.tsx module failed to load within 10 seconds')
          console.error('Root element children:', document.querySelector('#root').children.length)
          console.error('Document ready state:', document.readyState)
        }
        clearInterval(checkInterval)
      }, 10000)
    </script>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
